import logging

from telethon.tl.types import Message

from .. import loader, utils


logger = logging.getLogger(__name__)


@loader.tds
class TestMod(loader.Module):
    """A simple test module for the hikka userbot"""

    strings = {
        "name": "Test",
        "success_response": "the module works successfully!",
    }

    async def testcmd(self, message: Message):
        """Send a message to confirm that the module is working"""
        await message.edit(self.strings("success_response", message))

@client.on(events.NewMessage(pattern=r"\.test"))
async def test_handler(event):
    await event.respond("Running test command...")
    await test_mod.testcmd(event.message)
